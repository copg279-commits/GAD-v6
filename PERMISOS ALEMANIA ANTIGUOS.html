<!DOCTYPE html>
<html lang="es">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   Título de tu Página - GAD
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>
  <style>
   body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            overflow-y: auto;
        }
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem;
            text-align: center;
        }
        .gad-logo-header {
            width: 160px; /* Tamaño del logo del index.html */
            height: 160px; /* Tamaño del logo del index.html */
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .main-header {
            background-color: #1d4ed8; /* Color de fondo del index */
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0.5rem 0;
        }
        .gad-logo-header img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        .main-content-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-grow: 1;
            width: 100%;
            padding: 0px;
            box-sizing: border-box;
        }

        /* Estilos del pie de página */
        footer {
            text-align: center;
            width: 100%;
            padding: 1.5rem 0;
            background-color: #e5e7eb;
        }
        
        /* Estilos de los botones de navegación */
        .navigation-buttons-row {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            padding: 1rem 0;
            margin-top: 0.75rem;
            gap: 0.75rem;
        }
        .navigation-button {
            padding: 0.5rem 0.5rem;
            font-size: 1rem;
            flex-grow: 0;
        }
        .yellow-button {
            background-color: #facc15;
            color: #333;
            font-weight: bold;
            padding: 10px 15px;
            border-radius: 8px;
            text-decoration: none;
            transition: background-color 0.2s;
            text-align: center;
        }
        .yellow-button:hover {
            background-color: #eab308;
        }
  </style>
 </head>
 <body class="bg-gray-100">
  <header class="main-header">
   <div class="gad-logo-header">
    <img alt="Logo GAD" class="w-full h-full object-cover block" src="logogad.png"/>
   </div>
  </header>
  <main>
   <div class="p-6 bg-white rounded-lg shadow-md mt-4 w-full max-w-2xl text-center">
    <h1 class="text-black text-center mt-6 text-xl font-bold px-4 responsive-title">
     Verificación de Validez de Permiso de
     <br/>
     Conducir Alemán (Antiguo)
    </h1>
    <script>
     const btnBirthYear = document.getElementById('btn-birth-year');
  const btnIssueDate = document.getElementById('btn-issue-date');
  const birthYearSection = document.getElementById('birth-year-section');
  const issueDateSection = document.getElementById('issue-date-section');
  const birthYearSelect = document.getElementById('birth-year-select');
  const issueDateSelect = document.getElementById('issue-date-select');
  const resultBirthYear = document.getElementById('result-birth-year');
  const resultIssueDate = document.getElementById('result-issue-date');
  const birthYearInfo = document.getElementById('birth-year-info');
  const issueDateInfo = document.getElementById('issue-date-info');
  const logoAntiguo = document.getElementById('logo-antiguo');
  const logoNuevo = document.getElementById('logo-nuevo');

  const birthYearText = "(Para permisos expedidos hasta el 31/12/1998)";
  const issueDateText = "(Para permisos expedidos a partir de 01/01/1999)";

  // Show "Birth Year" section by default on load
  document.addEventListener('DOMContentLoaded', (event) => {
    birthYearSection.classList.remove('hidden');
    issueDateSection.classList.add('hidden');
    birthYearSelect.value = "";
    issueDateSelect.value = "";
    birthYearInfo.textContent = birthYearText;
    logoAntiguo.classList.remove('hidden'); // Show logo for default section
    logoNuevo.classList.add('hidden');
  });

  // Event listeners for section selection buttons
  btnBirthYear.addEventListener('click', () => {
    birthYearSection.classList.remove('hidden');
    issueDateSection.classList.add('hidden');
    resultIssueDate.textContent = '';
    issueDateSelect.value = "";
    birthYearInfo.textContent = birthYearText;
    logoAntiguo.classList.remove('hidden'); // Show logo
    logoNuevo.classList.add('hidden'); // Hide other logo
  });

  btnIssueDate.addEventListener('click', () => {
    issueDateSection.classList.remove('hidden');
    birthYearSection.classList.add('hidden');
    resultBirthYear.textContent = '';
    birthYearSelect.value = "";
    issueDateInfo.textContent = issueDateText;
    logoNuevo.classList.remove('hidden'); // Show logo
    logoAntiguo.classList.add('hidden'); // Hide other logo
  });
  
  // Validation logic for "Birth Year"
  birthYearSelect.addEventListener('change', () => {
    const birthYear = birthYearSelect.value;
    const today = new Date();
    let validUntilDate;

    if (birthYear === '1953') {
      validUntilDate = new Date('2033-01-19');
    } else if (birthYear === '1958') {
      validUntilDate = new Date('2022-07-19'); // Corrected date
    } else if (birthYear === '1964') {
      validUntilDate = new Date('2023-01-19');
    } else if (birthYear === '1970') {
      validUntilDate = new Date('2024-01-19');
    } else if (birthYear === '1971') {
      validUntilDate = new Date('2025-01-19');
    }

    if (validUntilDate) {
      if (today <= validUntilDate) {
        const formattedDate = validUntilDate.toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' });
        resultBirthYear.textContent = `Válido hasta el ${formattedDate}.`;
        resultBirthYear.classList.remove('text-red-600');
        resultBirthYear.classList.add('text-green-600');
      } else {
        const formattedDate = validUntilDate.toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' });
        resultBirthYear.textContent = `No válido. Debió ser canjeado antes del ${formattedDate}.`;
        resultBirthYear.classList.remove('text-green-600');
        resultBirthYear.classList.add('text-red-600');
      }
    } else {
        resultBirthYear.textContent = '';
    }
  });

  // Validation logic for "Issue Date"
  issueDateSelect.addEventListener('change', () => {
    const issueYearGroup = issueDateSelect.value;
    const today = new Date();
    let validUntilDate;

    if (issueYearGroup === '1998') {
        // Special case: Redirect to birth year section and show specific message
        issueDateSection.classList.add('hidden');
        birthYearSection.classList.remove('hidden');
        resultBirthYear.innerHTML = `<span class="text-red-600 font-bold">La validez de los permisos expedidos hasta el 31/12/1998 depende del año de nacimiento del conductor.<br>Por favor, selecciona el botón verde.</span>`;
        birthYearSelect.value = ""; // Reset dropdown
        // Ensure correct logo is shown/hidden when redirecting
        logoAntiguo.classList.remove('hidden'); 
        logoNuevo.classList.add('hidden');
        return;
    } else if (issueYearGroup === '2001') {
      validUntilDate = new Date('2026-01-19');
    } else if (issueYearGroup === '2004') {
      validUntilDate = new Date('2027-01-19');
    } else if (issueYearGroup === '2007') {
      validUntilDate = new Date('2028-01-19');
    } else if (issueYearGroup === '2008') {
      validUntilDate = new Date('2029-01-19');
    } else if (issueYearGroup === '2009') {
      validUntilDate = new Date('2030-01-19');
    } else if (issueYearGroup === '2010') {
      validUntilDate = new Date('2031-01-19');
    } else if (issueYearGroup === '2011') {
      validUntilDate = new Date('2032-01-19');
    } else if (issueYearGroup === '2012') {
      validUntilDate = new Date('2033-01-19');
    }

    if (validUntilDate) {
      if (today <= validUntilDate) {
        const formattedDate = validUntilDate.toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' });
        resultIssueDate.textContent = `Válido hasta el ${formattedDate}.`;
        resultIssueDate.classList.remove('text-red-600');
        resultIssueDate.classList.add('text-green-600');
      } else {
        const formattedDate = validUntilDate.toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' });
        resultIssueDate.textContent = `No válido. Debió ser canjeado antes del ${formattedDate}.`;
        resultIssueDate.classList.remove('text-green-600');
        resultIssueDate.classList.add('text-red-600');
      }
    } else {
        resultIssueDate.textContent = '';
    }
  });
    </script>
   </div>
   <div class="navigation-buttons-row">
    <a class="yellow-button navigation-button w-40" href="index.html">
     Menú Principal
    </a>
    <button class="yellow-button navigation-button w-40" onclick="window.history.back()">
     Atrás
    </button>
   </div>
  </main>
  <footer class="mt-auto text-center py-6 bg-gray-200">
   <div class="flex flex-col items-center">
    <hr class="border-t border-gray-400 w-11/12 max-w-md mx-auto mb-4"/>
    <p class="font-bold">
     GRUPO DE ANÁLISIS DOCUMENTAL
    </p>
    <p class="font-bold">
     POLICÍA LOCAL DE ALICANTE
    </p>
    <p>
     © GAD - Todos los derechos reservados
    </p>
   </div>
  </footer>
 </body>
</html>
